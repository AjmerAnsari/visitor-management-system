{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<h2 class="heading-gradient">Visitor Dashboard</h2>

<table id="visitorTable">
  <thead>
    <tr>
      <th>Name</th>
      <th>Phone</th>
      <th>Purpose</th>
      <th>Check-in</th>
      <th>Check-out</th>
      <th>Department</th>
      <th>Host</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for v in visitors %}
    <tr>
      <td>{{ v[1] }}</td> <!-- Name -->
      <td>{{ v[2] }}</td> <!-- Phone -->
      <td>{{ v[3] }}</td> <!-- Purpose -->
      <td>{{ v[4] }}</td> <!-- Check-in -->
      <td>{{ v[5] or 'Pending' }}</td> <!-- Check-out -->
      <td>{{ v[6] }}</td> <!-- Department -->
      <td>{{ v[7] }}</td> <!-- Host -->
      <td>
        <a href="{{ url_for('visitor.view_visitor', id=v[0]) }}">View</a> |
        <a href="{{ url_for('visitor.edit_visitor', id=v[0]) }}">Edit</a> |
        <a href="{{ url_for('visitor.delete_visitor', id=v[0]) }}" onclick="return confirm('Are you sure you want to delete this visitor?')">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
