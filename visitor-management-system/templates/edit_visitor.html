{% extends "base.html" %}
{% block title %}Edit Visitor{% endblock %}
{% block content %}

<h2 class="heading-gradient">Edit Visitor</h2>

<form method="POST" enctype="multipart/form-data">
    <input type="text" name="name" value="{{ visitor[1] }}" placeholder="Name" required><br>
    <input type="text" name="phone" value="{{ visitor[2] }}" placeholder="Phone" required><br>
    <input type="email" name="email" value="{{ visitor[3] }}" placeholder="Email"><br>
    <input type="text" name="address" value="{{ visitor[4] }}" placeholder="Address"><br>
    <input type="text" name="purpose" value="{{ visitor[5] }}" placeholder="Purpose" required><br>

    <label>Department:</label>
    <select name="department" required>
        {% for dept in departments %}
        <option value="{{ dept[0] }}" {% if dept[0] == visitor[10] %}selected{% endif %}>{{ dept[0] }}</option>
        {% endfor %}
    </select><br>

    <label>Host:</label>
    <select name="host" required>
        {% for h in hosts %}
        <option value="{{ h[0] }}" {% if h[0] == visitor[11] %}selected{% endif %}>{{ h[0] }}</option>
        {% endfor %}
    </select><br>

    {% if visitor[12] %}
        <p>Current Photo:</p>
        <img src="{{ url_for('static', filename='images/' + visitor[12]) }}" width="100"><br>
    {% endif %}

    <label>Change Photo:</label>
    <input type="file" name="photo"><br><br>

    <button type="submit">Update Visitor</button>
</form>

<a href="{{ url_for('visitor.dashboard') }}">‚Üê Back to Dashboard</a>

{% endblock %}
